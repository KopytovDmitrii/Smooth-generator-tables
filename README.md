# Smooth Generator Tables

Интерактивное приложение для управления таблицами: создание заголовков таблиц, редактирование ячеек, DnD-перестановка карточек таблиц. Проект построен на React + TypeScript, Vite, Redux Toolkit и модульных SCSS.

## Структура проекта
```
src/
  App.tsx                      # Точка входа в UI (отрисовывает список таблиц)
  main.tsx                     # Инициализация React и Redux Store
  hooks.ts                     # Хуки-обёртки для useDispatch/useSelector
  setupTests.ts                # Конфигурация тестов (Jest + jsdom)

  assets/
    icons/                     # SVG/иконки
    styles/
      App.module.scss          # Глобальные стили контейнера приложения

  Components/
    Atoms/                     # Низкоуровневые атомарные компоненты
      Button/                  # Кнопка: primary/secondary/fullWidth, размеры
      DragHandle/              # Хэндлер для DnD внутри карточек
      InlineInput/             # Инлайн-инпут для ячейки
      Input/                   # Текстовый инпут с label
      Modal/                   # Модальное окно
      Select/                  # Селект с размерами, режимом inCell
    Molecules/
      EditableCell/            # Редактируемая ячейка таблицы (input/select)
      TableHeaderForm/         # Форма создания заголовка новой таблицы

  Views/
    Tables/
      ListView.tsx             # Экран со списком таблиц и модалкой создания
      TableCard.tsx            # Отдельная карточка таблицы
      *.module.scss            # Стили экрана и карточек

  store/
    index.ts                   # Конфигурация Redux Store
    tablesSlice.ts             # Состояние таблиц, экшены, редюсеры
    tablesSlice.test.ts        # Юнит‑тесты логики таблиц

  types/
    styles.d.ts                # Типы для SCSS‑модулей
    assets.d.ts                # Типы для импорта ассетов
```

## Экраны и функциональность
- **Список таблиц** (`Views/Tables/ListView.tsx`)
  - Кнопка «Create» открывает модалку с формой создания заголовка новой таблицы.
  - DnD-перестановка карточек таблиц (drag & drop), визуальная подсветка цели.
- **Модалка «Create new table»** (`TableHeaderForm`)
  - Поля: `Column title`, `Type` (`Text | Number | Select`).
  - Для `Select`: ввод опций чипсами, добавление Enter/запятая, удаление по крестику, защита от дубликатов, корректная работа с блюром.
  - Кнопка `Add` добавляет колонку в текущий заголовок; список добавленных колонок отображается ниже формы.
  - Кнопка `Create` — создание таблицы с заданным заголовком и закрытие модалки.
- **Карточка таблицы** (`TableCard.tsx`)
  - Отображение данных таблицы. Поддержка перетаскивания через `DragHandle`.
  - Инлайновое редактирование ячеек через `EditableCell` (текст/число/селект, placeholder `Select…`).

## Подход к компонентам
- **Атомы** — переиспользуемые базовые элементы без сложной логики (кнопка, инпут, селект, модалка, хэндлер).
- **Молекулы** — составные компоненты, инкапсулирующие сценарии (редактируемая ячейка, форма создания заголовка).
- **Стили** — модульные SCSS (`*.module.scss`) для изоляции CSS.
- **Состояние** — Redux Toolkit slice `tablesSlice` c иммутабельными редюсерами и тестами.
- **UX‑детали** — выравнивание высот инпутов/селектов, одинаковая ширина кнопок, перенос Create вправо, предотвращение ложных действий при кликах (mousedown + stopPropagation).

## Основные технологии
- React 18, TypeScript
- Vite 5 (быстрая сборка/разработка)
- Redux Toolkit 2, React‑Redux 9
- SCSS Modules
- Jest 29, ts‑jest, jsdom — юнит‑тесты стора

## Скрипты
Из `package.json`:
- `npm run dev` — запуск дев‑сервера Vite
- `npm run build` — типизация `tsc -b` и прод‑сборка Vite
- `npm run preview` — локальный предпросмотр собранного билда
- `npm run test` — запуск Jest

## Требования
- Node.js 18+ (рекомендуется LTS)
- npm 9+ или pnpm/yarn по желанию (пример ниже — для npm)

## Запуск локально
1. Установить зависимости:
   ```bash
   npm install
   ```
2. Старт дев‑сервера:
   ```bash
   npm run dev
   ```
   Откройте адрес, указанный Vite (обычно http://localhost:5173).
3. Сборка:
   ```bash
   npm run build
   ```
4. Предпросмотр сборки:
   ```bash
   npm run preview
   ```
5. Тесты:
   ```bash
   npm run test
   ```

## Примечания по качеству
- Стиль кода: TypeScript + модульные стили, понятные имена, самодокументируемость.
- Архитектура компонентов: атомы/молекулы для переиспользования и изоляции ответственности.
- UX: корректная обработка фокусов/событий в чипах, единая высота контролов, предсказуемые кнопки.

## Работа с ИИ
- Файл idea.md содержит основные требования к проекту
- Файл .windsurfrules содержит правила для работы с ИИ
- Папка Sprints содержит 3 файла с требованиями к каждому спринту, сформированные на основе idea.md
- Framelink Figma MCP: MCP сервер для фигмы. Служит для подтяжки макетов по ссылкам. Ссылки на макеты находятся в Sprints.
